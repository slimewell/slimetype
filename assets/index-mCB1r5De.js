(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function o(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerPolicy&&(p.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?p.credentials="include":s.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(s){if(s.ep)return;s.ep=!0;const p=o(s);fetch(s.href,p)}})();var Q={};(function n(a,o,d,s){var p=!!(a.Worker&&a.Blob&&a.Promise&&a.OffscreenCanvas&&a.OffscreenCanvasRenderingContext2D&&a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype.transferControlToOffscreen&&a.URL&&a.URL.createObjectURL),y=typeof Path2D=="function"&&typeof DOMMatrix=="function",R=(function(){if(!a.OffscreenCanvas)return!1;try{var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var l=t.transferToImageBitmap();e.createPattern(l,"no-repeat")}catch{return!1}return!0})();function B(){}function k(t){var e=o.exports.Promise,l=e!==void 0?e:a.Promise;return typeof l=="function"?new l(t):(t(B,B),null)}var V=(function(t,e){return{transform:function(l){if(t)return l;if(e.has(l))return e.get(l);var c=new OffscreenCanvas(l.width,l.height),u=c.getContext("2d");return u.drawImage(l,0,0),e.set(l,c),c},clear:function(){e.clear()}}})(R,new Map),H=(function(){var t=Math.floor(16.666666666666668),e,l,c={},u=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(f){var h=Math.random();return c[h]=requestAnimationFrame(function i(m){u===m||u+t-1<m?(u=m,delete c[h],f()):c[h]=requestAnimationFrame(i)}),h},l=function(f){c[f]&&cancelAnimationFrame(c[f])}):(e=function(f){return setTimeout(f,t)},l=function(f){return clearTimeout(f)}),{frame:e,cancel:l}})(),me=(function(){var t,e,l={};function c(u){function f(h,i){u.postMessage({options:h||{},callback:i})}u.init=function(i){var m=i.transferControlToOffscreen();u.postMessage({canvas:m},[m])},u.fire=function(i,m,g){if(e)return f(i,null),e;var x=Math.random().toString(36).slice(2);return e=k(function(w){function M(I){I.data.callback===x&&(delete l[x],u.removeEventListener("message",M),e=null,V.clear(),g(),w())}u.addEventListener("message",M),f(i,x),l[x]=M.bind(null,{data:{callback:x}})}),e},u.reset=function(){u.postMessage({reset:!0});for(var i in l)l[i](),delete l[i]}}return function(){if(t)return t;if(!d&&p){var u=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([u])))}catch(f){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",f),null}c(t)}return t}})(),ve={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function pe(t,e){return e?e(t):t}function ye(t){return t!=null}function b(t,e,l){return pe(t&&ye(t[e])?t[e]:ve[e],l)}function ge(t){return t<0?0:Math.floor(t)}function we(t,e){return Math.floor(Math.random()*(e-t))+t}function Z(t){return parseInt(t,16)}function xe(t){return t.map(Me)}function Me(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:Z(e.substring(0,2)),g:Z(e.substring(2,4)),b:Z(e.substring(4,6))}}function be(t){var e=b(t,"origin",Object);return e.x=b(e,"x",Number),e.y=b(e,"y",Number),e}function Ie(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function Ee(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function Ce(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function Le(t,e,l,c,u,f,h,i,m){t.save(),t.translate(e,l),t.rotate(f),t.scale(c,u),t.arc(0,0,1,h,i,m),t.restore()}function Se(t){var e=t.angle*(Math.PI/180),l=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*l-Math.random()*l),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function We(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var l=e.tick++/e.totalTicks,c=e.x+e.random*e.tiltCos,u=e.y+e.random*e.tiltSin,f=e.wobbleX+e.random*e.tiltCos,h=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-l)+")",t.beginPath(),y&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(Be(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(f-c)*.1,Math.abs(h-u)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var i=Math.PI/10*e.wobble,m=Math.abs(f-c)*.1,g=Math.abs(h-u)*.1,x=e.shape.bitmap.width*e.scalar,w=e.shape.bitmap.height*e.scalar,M=new DOMMatrix([Math.cos(i)*m,Math.sin(i)*m,-Math.sin(i)*g,Math.cos(i)*g,e.x,e.y]);M.multiplySelf(new DOMMatrix(e.shape.matrix));var I=t.createPattern(V.transform(e.shape.bitmap),"no-repeat");I.setTransform(M),t.globalAlpha=1-l,t.fillStyle=I,t.fillRect(e.x-x/2,e.y-w/2,x,w),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(f-c)*e.ovalScalar,Math.abs(h-u)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):Le(t,e.x,e.y,Math.abs(f-c)*e.ovalScalar,Math.abs(h-u)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var v=Math.PI/2*3,C=4*e.scalar,L=8*e.scalar,S=e.x,P=e.y,F=5,W=Math.PI/F;F--;)S=e.x+Math.cos(v)*L,P=e.y+Math.sin(v)*L,t.lineTo(S,P),v+=W,S=e.x+Math.cos(v)*C,P=e.y+Math.sin(v)*C,t.lineTo(S,P),v+=W;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(u)),t.lineTo(Math.floor(f),Math.floor(h)),t.lineTo(Math.floor(c),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function Te(t,e,l,c,u){var f=e.slice(),h=t.getContext("2d"),i,m,g=k(function(x){function w(){i=m=null,h.clearRect(0,0,c.width,c.height),V.clear(),u(),x()}function M(){d&&!(c.width===s.width&&c.height===s.height)&&(c.width=t.width=s.width,c.height=t.height=s.height),!c.width&&!c.height&&(l(t),c.width=t.width,c.height=t.height),h.clearRect(0,0,c.width,c.height),f=f.filter(function(I){return We(h,I)}),f.length?i=H.frame(M):w()}i=H.frame(M),m=w});return{addFettis:function(x){return f=f.concat(x),g},canvas:t,promise:g,reset:function(){i&&H.cancel(i),m&&m()}}}function Y(t,e){var l=!t,c=!!b(e||{},"resize"),u=!1,f=b(e,"disableForReducedMotion",Boolean),h=p&&!!b(e||{},"useWorker"),i=h?me():null,m=l?Ie:Ee,g=t&&i?!!t.__confetti_initialized:!1,x=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,w;function M(v,C,L){for(var S=b(v,"particleCount",ge),P=b(v,"angle",Number),F=b(v,"spread",Number),W=b(v,"startVelocity",Number),Ae=b(v,"decay",Number),Fe=b(v,"gravity",Number),Oe=b(v,"drift",Number),te=b(v,"colors",xe),Re=b(v,"ticks",Number),re=b(v,"shapes"),Ne=b(v,"scalar"),qe=!!b(v,"flat"),ne=be(v),ae=S,K=[],De=t.width*ne.x,je=t.height*ne.y;ae--;)K.push(Se({x:De,y:je,angle:P,spread:F,startVelocity:W,color:te[ae%te.length],shape:re[we(0,re.length)],ticks:Re,decay:Ae,gravity:Fe,drift:Oe,scalar:Ne,flat:qe}));return w?w.addFettis(K):(w=Te(t,K,m,C,L),w.promise)}function I(v){var C=f||b(v,"disableForReducedMotion",Boolean),L=b(v,"zIndex",Number);if(C&&x)return k(function(W){W()});l&&w?t=w.canvas:l&&!t&&(t=Ce(L),document.body.appendChild(t)),c&&!g&&m(t);var S={width:t.width,height:t.height};i&&!g&&i.init(t),g=!0,i&&(t.__confetti_initialized=!0);function P(){if(i){var W={getBoundingClientRect:function(){if(!l)return t.getBoundingClientRect()}};m(W),i.postMessage({resize:{width:W.width,height:W.height}});return}S.width=S.height=null}function F(){w=null,c&&(u=!1,a.removeEventListener("resize",P)),l&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,g=!1)}return c&&!u&&(u=!0,a.addEventListener("resize",P,!1)),i?i.fire(v,S,F):M(v,S,F)}return I.reset=function(){i&&i.reset(),w&&w.reset()},I}var _;function ee(){return _||(_=Y(null,{useWorker:!0,resize:!0})),_}function Be(t,e,l,c,u,f,h){var i=new Path2D(t),m=new Path2D;m.addPath(i,new DOMMatrix(e));var g=new Path2D;return g.addPath(m,new DOMMatrix([Math.cos(h)*u,Math.sin(h)*u,-Math.sin(h)*f,Math.cos(h)*f,l,c])),g}function Pe(t){if(!y)throw new Error("path confetti are not supported in this browser");var e,l;typeof t=="string"?e=t:(e=t.path,l=t.matrix);var c=new Path2D(e),u=document.createElement("canvas"),f=u.getContext("2d");if(!l){for(var h=1e3,i=h,m=h,g=0,x=0,w,M,I=0;I<h;I+=2)for(var v=0;v<h;v+=2)f.isPointInPath(c,I,v,"nonzero")&&(i=Math.min(i,I),m=Math.min(m,v),g=Math.max(g,I),x=Math.max(x,v));w=g-i,M=x-m;var C=10,L=Math.min(C/w,C/M);l=[L,0,0,L,-Math.round(w/2+i)*L,-Math.round(M/2+m)*L]}return{type:"path",path:e,matrix:l}}function ke(t){var e,l=1,c="#000000",u='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,l="scalar"in t?t.scalar:l,u="fontFamily"in t?t.fontFamily:u,c="color"in t?t.color:c);var f=10*l,h=""+f+"px "+u,i=new OffscreenCanvas(f,f),m=i.getContext("2d");m.font=h;var g=m.measureText(e),x=Math.ceil(g.actualBoundingBoxRight+g.actualBoundingBoxLeft),w=Math.ceil(g.actualBoundingBoxAscent+g.actualBoundingBoxDescent),M=2,I=g.actualBoundingBoxLeft+M,v=g.actualBoundingBoxAscent+M;x+=M+M,w+=M+M,i=new OffscreenCanvas(x,w),m=i.getContext("2d"),m.font=h,m.fillStyle=c,m.fillText(e,I,v);var C=1/l;return{type:"bitmap",bitmap:i.transferToImageBitmap(),matrix:[C,0,0,C,-x*C/2,-w*C/2]}}o.exports=function(){return ee().apply(this,arguments)},o.exports.reset=function(){ee().reset()},o.exports.create=Y,o.exports.shapeFromPath=Pe,o.exports.shapeFromText=ke})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Q,!1);const $e=Q.exports;Q.exports.create;const oe=["the","be","to","of","and","a","in","that","have","i","git","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","we","say","her","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","people","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","after","use","two","how","our","work","fable","first","well","way","even","new","want","because","any","these","give","day","most","us","is","was","are","been","has","had","were","said","getting","made","find","where","much","too","bar","very","still","being","going","why","before","never","here","more","code","program","node","email","loop","array","function","frame","object","method","class","return","true","false","null","unwise"],r={words:[],currentWordIndex:0,currentLetterIndex:0,typedHistory:[],isActive:!1,startTime:null,wordStates:[],errors:0,mode:"words",value:25,timer:null,timeLeft:0},O=document.getElementById("words"),E=document.getElementById("input-field"),z=document.getElementById("caret"),le=document.getElementById("wpm"),ie=document.getElementById("accuracy"),N=document.getElementById("timer"),ze=document.getElementById("progress-stat"),G=ze.querySelector(".stat-label"),X=document.getElementById("restart-btn"),j=document.getElementById("results"),Ue=document.getElementById("result-wpm"),Ve=document.getElementById("result-accuracy"),He=document.getElementById("result-characters"),Ze=document.getElementById("new-test-btn"),ce=document.querySelectorAll("#word-count-selector .config-btn"),J=document.getElementById("timed-btn"),de=document.querySelectorAll("#time-selector .config-btn"),A=document.querySelector("#endless-group .config-btn");function ue(n){const a=[];for(let o=0;o<n;o++)a.push(oe[Math.floor(Math.random()*oe.length)]);return a}function $(){const n=document.getElementById("timed-group"),a=document.getElementById("time-selector");document.getElementById("endless-group"),ce.forEach(o=>{r.mode==="words"&&parseInt(o.dataset.value)===r.value?o.classList.add("active"):o.classList.remove("active")}),r.mode==="timed"?(n.classList.add("collapsed"),a.classList.remove("collapsed"),de.forEach(o=>{parseInt(o.dataset.value)===r.value?o.classList.add("active"):o.classList.remove("active")}),A&&A.classList.remove("active")):r.mode==="endless"?(n.classList.remove("collapsed"),a.classList.add("collapsed"),J.classList.remove("active"),A&&A.classList.add("active")):(n.classList.remove("collapsed"),a.classList.add("collapsed"),J.classList.remove("active"),A&&A.classList.remove("active")),r.mode==="words"?(G.textContent="Words",N.textContent="0"):r.mode==="timed"?(G.textContent="Time",N.textContent=r.value):(G.textContent="Words",N.textContent="0")}function T(){r.timer&&clearInterval(r.timer);let n=50;r.mode==="words"?n=r.value:r.mode==="timed"&&(n=100),r.words=ue(n),r.currentWordIndex=0,r.currentLetterIndex=0,r.typedHistory=[],r.isActive=!1,r.startTime=null,r.wordStates=r.words.map(()=>({typed:"",completed:!1})),r.errors=0,r.mode==="timed"?r.timeLeft=r.value:r.timeLeft=0,O.innerHTML="",r.words.forEach((a,o)=>{const d=document.createElement("div");d.className="word",d.dataset.wordIndex=o,a.split("").forEach((s,p)=>{const y=document.createElement("span");y.className="letter",y.textContent=s,y.dataset.letterIndex=p,d.appendChild(y)}),O.appendChild(d)}),document.querySelector(".word").classList.add("current"),q(),$(),j.style.display="none",X.style.display="flex",document.body.classList.remove("focus-mode"),O.classList.remove("blur"),E.value="",E.focus(),le.textContent="0",ie.textContent="100%",document.removeEventListener("keydown",he)}function _e(){r.mode==="timed"&&(r.timer=setInterval(()=>{r.timeLeft--,N.textContent=r.timeLeft,r.timeLeft<=0&&D()},1e3))}function q(){const n=document.querySelector(".word.current");if(!n)return;const a=n.querySelector(`.letter[data-letter-index="${r.currentLetterIndex}"]`),o=n.getBoundingClientRect(),d=document.querySelector(".typing-area").getBoundingClientRect();if(o.top>d.top+100){const s=o.top-d.top-20;O.scrollTo({top:O.scrollTop+s,behavior:"smooth"})}if(a){const s=a.getBoundingClientRect();z.style.left=`${s.left-d.left}px`,z.style.top=`${s.top-d.top}px`}else z.style.left=`${o.right-d.left}px`,z.style.top=`${o.top-d.top}px`}function Ke(){if(!r.isActive||!r.startTime)return 0;const n=(Date.now()-r.startTime)/1e3/60;if(n===0)return 0;let a=0;for(let d=0;d<=r.currentWordIndex;d++){const s=r.wordStates[d]?.typed||"";a+=Math.max(s.length,r.words[d].length)}const o=a/5;return Math.round(o/n)}function Ge(){let n=0,a=0;for(let o=0;o<=r.currentWordIndex;o++){const d=r.wordStates[o]?.typed||"",s=r.words[o];if(!s)continue;const p=Math.min(d.length,s.length);for(let y=0;y<p;y++)n++,d[y]===s[y]&&a++;d.length>s.length&&(n+=d.length-s.length),(o<r.currentWordIndex||r.wordStates[o].completed)&&s.length>d.length&&(n+=s.length-d.length)}return n+=r.errors,n>0?Math.round(a/n*100):100}function fe(){le.textContent=Ke(),ie.textContent=`${Ge()}%`,(r.mode==="words"||r.mode==="endless")&&(N.textContent=r.currentWordIndex)}function U(n,a){const o=document.querySelector(`.word[data-word-index="${n}"]`);if(!o)return;const d=r.words[n];o.querySelectorAll(".letter").forEach(s=>{s.classList.remove("correct","incorrect")}),o.querySelectorAll(".letter.extra").forEach(s=>s.remove());for(let s=0;s<a.length;s++){const p=o.querySelector(`.letter[data-letter-index="${s}"]`);if(p)a[s]===d[s]?p.classList.add("correct"):p.classList.add("incorrect");else{const y=document.createElement("span");y.className="letter extra",y.textContent=a[s],o.appendChild(y)}}if(r.wordStates[n].completed)for(let s=a.length;s<d.length;s++){const p=o.querySelector(`.letter[data-letter-index="${s}"]`);p&&p.classList.add("incorrect")}}function se(){const n=document.querySelector(".word.current");if(!n)return;if(r.wordStates[r.currentWordIndex].completed=!0,n.classList.remove("current"),r.currentWordIndex++,r.currentLetterIndex=0,r.mode==="words"&&r.currentWordIndex>=r.value){D();return}if((r.mode==="endless"||r.mode==="timed")&&r.currentWordIndex>=r.words.length-10){const o=ue(20);r.words.push(...o),o.forEach((d,s)=>{const p=r.words.length-20+s;r.wordStates.push({typed:"",completed:!1});const y=document.createElement("div");y.className="word",y.dataset.wordIndex=p,d.split("").forEach((R,B)=>{const k=document.createElement("span");k.className="letter",k.textContent=R,k.dataset.letterIndex=B,y.appendChild(k)}),O.appendChild(y)})}if(r.currentWordIndex>=r.words.length){D();return}const a=document.querySelector(`.word[data-word-index="${r.currentWordIndex}"]`);a?(a.classList.add("current"),E.value=r.wordStates[r.currentWordIndex]?.typed||"",U(r.currentWordIndex,E.value),q()):D()}function Je(){if(r.currentWordIndex<=0)return;const n=document.querySelector(".word.current");if(!n)return;n.classList.remove("current"),r.currentWordIndex--;const a=document.querySelector(`.word[data-word-index="${r.currentWordIndex}"]`);a&&(a.classList.add("current"),E.value=r.wordStates[r.currentWordIndex].typed||"",r.currentLetterIndex=E.value.length,r.wordStates[r.currentWordIndex].completed=!1,U(r.currentWordIndex,E.value),q(),E.focus())}function Qe(n){if(!r.isActive&&E.value.length>0){r.isActive=!0,r.startTime=Date.now(),document.body.classList.add("focus-mode");const o=document.querySelector(".help-text");o&&(o.style.display="none"),_e()}const a=E.value;if(r.wordStates[r.currentWordIndex].typed=a,U(r.currentWordIndex,a),r.currentLetterIndex=a.length,q(),fe(),r.mode==="words"&&r.currentWordIndex===r.value-1){const o=r.words[r.currentWordIndex];a.length>=o.length&&setTimeout(()=>{r.wordStates[r.currentWordIndex].completed=!0,D()},100)}}function Xe(n){if(n.key>="0"&&n.key<="9"){n.preventDefault();return}if(n.key==="Enter"&&!n.shiftKey){n.preventDefault(),se();return}if(n.key==="Backspace"&&E.value.length===0&&r.currentWordIndex>0){n.preventDefault(),Je();return}if(n.key===" "){if(!r.isActive&&j.style.display==="flex"){n.preventDefault(),T();return}if(!r.wordStates[r.currentWordIndex].completed){n.preventDefault();const a=r.words[r.currentWordIndex],o=E.value;if(o.length>=a.length)se();else{r.errors++;const d=o+" ";E.value=d,r.wordStates[r.currentWordIndex].typed=d,U(r.currentWordIndex,d),r.currentLetterIndex=d.length,q(),fe()}return}}}function D(){r.isActive=!1,r.timer&&clearInterval(r.timer),E.blur(),document.body.classList.remove("focus-mode"),O.classList.add("blur");const n=(Date.now()-r.startTime)/1e3/60;let a=0,o=0;for(let p=0;p<r.currentWordIndex;p++){const y=r.wordStates[p]?.typed||"",R=r.words[p];for(let B=0;B<Math.max(y.length,R.length);B++)a++,y[B]===R[B]&&o++}const d=n>0?Math.round(a/5/n):0,s=a>0?Math.round(o/a*100):100;Ue.textContent=d,Ve.textContent=`${s}%`,He.textContent=a,j.style.display="flex",X.style.display="none",$e({particleCount:100,spread:70,origin:{y:.6},colors:["#a8e6cf","#ff8b94","#ffaaa5","#ffd3b6","#dcedc1"]}),document.addEventListener("keydown",he)}function he(n){n.key==="Enter"&&(n.preventDefault(),T())}ce.forEach(n=>{n.addEventListener("click",()=>{r.mode="words",r.value=parseInt(n.dataset.value),$(),T()})});J.addEventListener("click",()=>{r.mode="timed",r.value=30,$(),T()});A&&A.addEventListener("click",()=>{r.mode="endless",$(),T()});de.forEach(n=>{n.addEventListener("click",()=>{r.value=parseInt(n.dataset.value),$(),T()})});document.addEventListener("keydown",n=>{n.key==="Tab"&&(n.preventDefault(),T())});E.addEventListener("input",Qe);E.addEventListener("keydown",Xe);X.addEventListener("click",T);Ze.addEventListener("click",T);document.addEventListener("click",n=>{n.target.closest(".config-bar")||(!j.style.display||j.style.display==="none")&&E.focus()});window.addEventListener("resize",q);T();
